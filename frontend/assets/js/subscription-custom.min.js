var success_img=customVars.basedir+"/frontend/assets/images/true.png",loader_gif=customVars.basedir+"/frontend/assets/images/loading.gif",error_img=customVars.basedir+"/frontend/assets/images/false.png",url=customVars.ajaxurl;function validatePaymentForm(t,o){if(!1===o.checkValidity()){jQuery(o).find(":invalid").each(function(t,o){jQuery(o).nextAll("div.invalid-feedback").show()});return t.preventDefault(),t.stopPropagation(),o.classList.add("invalid"),!1}return jQuery("div.invalid-feedback").hide(),o.classList.add("valid"),!0}function showSnacksBar(t){var o=document.getElementById("snackbar");o.className="show",t||(o.className=o.className.replace("show",""))}jQuery(document).ready(function(){!function(t){if(t(".sameSize, .sameSize-inner").matchHeight({byRow:!0,property:"height",target:null,remove:!1}),t(".sameSize-inner").matchHeight({byRow:!0,property:"height",target:null,remove:!1}),t("#card_number").length){var o="";t("#card_number").validateCreditCard(function(e){e.valid?t(this).addClass("valid"):t(this).removeClass("valid"),void 0!==e.card_type&&null!=e.card_type&&""!=e.card_type.name?(""!=o&&o!=e.card_type.name&&(t(this).removeClass(o),t(this).addClass(e.card_type.name)),o=e.card_type.name,t(this).addClass(e.card_type.name)):null==e.card_type&&""!=o&&t(this).removeClass(o)})}function e(o){var e=t(document).height();o?t("body").append("<div id='overlay'></div>"):t("div#overlay").remove(),t("#overlay").height(e).css({opacity:.4,position:"absolute",top:0,left:0,"background-color":"black",width:"100%","z-index":5e3})}t(".select_plan").each(function(o){t(this).on("click",function(o){o.preventDefault();var e=t(this).data("subscriptionid");t("form#form_"+e).submit()})}),t(".login-link").on("click",function(o){o.preventDefault(),t("#a0LoginButton").click()}),t("#validate_coupon").on("click",function(o){if(o.preventDefault(),t(this).prop("disabled",!0),t("#coupon_code").val()){var e=t(this).data("action"),n=t(this).data("nonce");t(".coupon-responce").show(),t(".coupon-responce").html('<img class="activation-img" src="'+loader_gif+'">');var a=t.post(url,{action:e,coupon:t("#coupon_code").val(),nonce:n});a.done(function(o){t(this).prop("disabled",!1),t(".coupon-responce").html('<img class="activation-img" src="'+success_img+'">'),t(".coupon-messages-notices").removeClass("error").addClass("success").html('<p class="mb-0">'+o.data.message+"</p>")}),a.fail(function(o){t(this).prop("disabled",!1),t(".coupon-responce").html('<img class="activation-img" src="'+error_img+'">'),t(".coupon-messages-notices").removeClass("success").addClass("error").html('<p class="mb-0">'+o.responseJSON.data.message+"</p>")})}else t(".messages-notices").html('<p class="error">Please add coupon code</p>')}),t("button#submit_cc").on("click",function(o){if(o.preventDefault(),validatePaymentForm(o,t("#form_payment")[0])){e(!0),showSnacksBar(!0);var n=t(this).data("action"),a=t("#nonce").val(),s=t("#form_payment").serialize();t("#snackbar").html("Sending your request...");var i=t.post(url,{action:n,formData:s,nonce:a});i.done(function(o){e(!1),showSnacksBar(!1),t(".cc-messages-notices").removeClass("error").addClass("success").html("<p>Payment Received...Please wait...</p>"),window.location.href=t("#form_payment").attr("action");var n=t("#form_payment").attr("action"),s=t('<form action="'+n+'" method="post"><input type="hidden" name="thankyou" value="'+a+'" /></form>');t("body").append(s),s.submit()}),i.fail(function(o){e(!1),showSnacksBar(!1),t(".cc-messages-notices").removeClass("success").addClass("error").html('<p class="mb-0">'+o.responseJSON.data.message+"</p>")})}}),t("button#update_cc").on("click",function(o){if(o.preventDefault(),validatePaymentForm(o,t("#form_payment")[0])){e(!0),showSnacksBar(!0);var n=t(this).data("action"),a=t("#nonce").val(),s=t("#form_payment").serialize();t("#snackbar").html("Sending your request...");var i=t.post(url,{action:n,formData:s,nonce:a});i.done(function(o){t("#snackbar").html("Your details are upto date...Please wait..."),t(".cc-messages-notices").removeClass("error").addClass("success").html("<p>Your details are upto date...Please wait...</p>"),window.location.href=t("#form_payment").attr("action");var e=t("#form_payment").attr("action"),n=t('<form action="'+e+'" method="post"><input type="hidden" name="payment-profile" value="'+a+'" /></form>');t("body").append(n),n.submit()}),i.fail(function(o){t("#snackbar").html("Something went wrong..."),t(".cc-messages-notices").removeClass("success").addClass("error").html('<p class="mb-0">'+o.responseJSON.data.message+"</p>")})}setTimeout(function(){e(!1),showSnacksBar(!1)},3e3)}),t("#update_subscription_button").confirm({content:"Click button below to confirm subscripition change.",boxWidth:"350px",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,buttons:{CONFIRM:{text:"CONFIRM",btnClass:"btn btn-secondary btn-ds-secondary",action:function(){var o=t(".update_subscription_id").val(),e=t("#update_subscription_button").data("action"),n=t("#update_subscription_button").data("nonce"),a=t.post(url,{action:e,subscription_id:o,nonce:n});t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:'<img class="activation-img pt-3 pb-3" src="'+loader_gif+'"><p class="text-center"> Processing....</p>'}),setTimeout(function(){t(".jconfirm-buttons").hide()},10),a.done(function(o){t(".jconfirm-buttons button").trigger("click"),t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:'<h4>Thank You!</h4><p class="mb-0">Your Package is updated successfully.</p>'}),setTimeout(function(){t(".jconfirm-buttons button").on("click",function(){window.location.reload()})},10)}),a.fail(function(o){t(".jconfirm-buttons button").trigger("click"),t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:'<h4> Error</h4><p class="mb-0">'+o.responseJSON.data.message+"</p>"}),setTimeout(function(){t(".jconfirm-buttons button").on("click",function(){window.location.reload()})},10)})}},CANCLE:{text:"CANCEL"}}}),t("#cancel_subscription_button").confirm({content:"Click button below to confirm cancel Subscription.",boxWidth:"350px",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,buttons:{CONFIRM:{text:"CONFIRM",btnClass:"btn btn-secondary btn-ds-secondary",action:function(){var o=t("#cancel_subscription_button").data("action"),e=t("#cancel_subscription_button").data("nonce"),n=t.post(url,{action:o,nonce:e});t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:'<img class="activation-img pt-3 pb-3" src="'+loader_gif+'"><p class="text-center"> Processing....</p>'}),setTimeout(function(){t(".jconfirm-buttons").hide()},10),n.done(function(o){t(".jconfirm-buttons button").trigger("click"),t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:"<p>We have received your request to cancel your subscription. Your subscription will automatically cancel at the end of your trial period.</p>"}),setTimeout(function(){t(".jconfirm-buttons button").on("click",function(){window.location.reload()})},10)}),n.done(function(o){t(".jconfirm-buttons button").trigger("click"),t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:'<h4>Thank You!</h4><p class="mb-0">Your Package is updated successfully.</p>'}),setTimeout(function(){t(".jconfirm-buttons button").on("click",function(){window.location.reload()})},10)}),n.fail(function(o){t(".jconfirm-buttons button").trigger("click"),t.alert({title:"Update Subscription",boxWidth:"350px",columnClass:"loader",useBootstrap:!1,theme:"custom",animation:"zoom",closeAnimation:"scale",typeAnimated:!0,content:'<h4>Error</h4><p class="mb-0">'+o.responseJSON.data.message+"</p>"}),setTimeout(function(){t(".jconfirm-buttons button").on("click",function(){window.location.reload()})},10)})}},CANCLE:{text:"CANCEL"}}})}(jQuery)});